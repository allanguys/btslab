<?php include($_SERVER['DOCUMENT_ROOT'].'/btslab/header.php'); ?>
XSS <a href="xss3.php?t=title" title="xss3.php?t=<?php if($_GET['t']) echo $_GET['t']; else echo 'title';?>"> Challenge 3</a><br/>
Please enter only words and search:<br/><br/>
<form action="xss5.php" method="get">
	<input type="text" name="keyword" value="Search"/>
	<br/><br/><input type="submit" name="Search" value="Search"/>
</form>
<?php
function javascript_encode($str){
    $retval = '';
    for($i=0;$i< strlen($str);$i++){
        $retval .='\x' .dechex(ord($str[$i]));
    }
    return $retval;
}
?>

<br/>
<span onclick="<?php echo javascript_encode(htmlspecialchars($_GET['keyword'],ENT_QUOTES))  ?>">点我 (输出在javascript上下文)</span>

<br>
<?php if(isset($_GET['keyword'])) echo "No results found for ".$_GET['keyword']?>
<?php include($_SERVER['DOCUMENT_ROOT'].'/btslab/footer.php'); ?>
<!-- Simple Reflected XSS 3 -->
